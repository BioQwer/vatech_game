"use strict";!function(){function o(o,t){var e=o-.5+Math.random()*(t-o+1);return e=Math.round(e)}function t(o,t){return Math.random()-.5}var e,n,l=["picture1.jpg","picture2.jpg","picture3.jpg","picture4.jpg","win.jpg","win2.jpg"],i=["img-1","img-2","img-3","img-4","img-5","img-6"],r=1,c=angular.module("app",["ngRoute","ng","ngAnimate","ngAudio"]);c.run(["$rootScope","$location","$templateCache",function(o,t,e){t.path("/"),e.put("templates/welcome.html"),e.put("templates/game.html"),e.put("templates/fail.html"),e.put("templates/win.html"),o.appInitialized=!0}]),c.config(["$routeProvider",function(o){o.when("/game",{templateUrl:"templates/game.html",controller:"GameController"}).when("/win",{templateUrl:"templates/win.html",controller:"WinController"}).when("/",{templateUrl:"templates/welcome.html",controller:"WelcomeController"}).when("/fail",{templateUrl:"templates/fail.html",controller:"FailController"}).otherwise({redirectTo:"/"})}]),c.controller("FailController",["$scope","$window","ngAudio",function(o,t,e){o.redirect=function(){t.location.href="#/game"},console.log(o),n=e.play("../audio/fail.mp3"),n.volume=r,o.$on("$destroy",function(){n.stop()})}]),c.controller("WinController",["$scope","ngAudio","$window",function(o,t,l){$("#winImage").attr("src",e),console.log(o),o.redirect=function(){l.location.href="#/game"},n=t.play("../audio/win.mp3"),n.volume=r,o.$on("$destroy",function(){n.stop()})}]),c.controller("WelcomeController",["$scope","ngAudio",function(o,t){o.sound=t.play("../audio/welcome.mp3"),o.sound.volume=r,n=o.sound,o.$on("$destroy",function(){n.stop()})}]),c.controller("SoundController",function(){this.checkState=function(){r>0?this.changeTo="Mute":this.changeTo="Unmute"},this.checkState(),this.changeMute=function(){r>0?(r=0,n.volume=r):(r=1,n.volume=r),this.checkState()}}),c.controller("GameController",["$scope","$window","ngAudio",function(c,a,u){n=u.play("../audio/waiting.mp3"),n.volume=r;var m=$("#timerkeeper").width(),s=$("#countdown").countdown360({radius:m/2.5,seconds:10,label:["sec","secs"],strokeStyle:"#26d7ae",fontColor:"white",fillStyle:"black",fontWeight:100,onComplete:function(){a.location.href="#/fail",console.log("timer done"),setTimeout(function(){s.addSeconds(1e8)},500)}});l.sort(t);var p=o(1,3);i.forEach(function(o,t){var n="images/"+p+"/"+l[t],i=$("#"+o);i.attr("src",n),n.match(".*win.*")?(console.log("win  = "+n),i.click(function(){e=n,a.location.href="#/win",setTimeout(function(){s.addSeconds(1e8)},500)})):i.click(function(){a.location.href="#/fail",setTimeout(function(){s.addSeconds(1e8)},500)}),console.log(o),console.log(n)}),s.start(),console.log("timer start"),c.$on("$destroy",function(){n.stop()})}])}();